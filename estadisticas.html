 <!-- Este archivo HTML define la interfaz de la sección de estadísticas de la plataforma 
  infantil, incluyendo menú lateral, barra superior, tarjetas de indicadores clave (KPIs),
   gráficos interactivos generados con Chart.js, tabla de estudiantes y botones para exportar
    PDF o regenerar datos. Se utilizan librerías externas como Chart.js, jsPDF y Font Awesome,
     además de un CSS personalizado para el estilo. -->
  

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Estadísticas - Plataforma Infantil</title>

 
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="estadisticas.css" />
</head>

<body>
  <aside class="sidebar">
    <nav class="menu">
      <a href="inicio2.html" class="menu-item ">
        <div class="menu-icon-container"><i class="fa-solid fa-house"></i></div>
        <div class="menu-text">Inicio</div>
      </a>
      <a href="registro.html" class="menu-item">
        <div class="menu-icon-container"><i class="fa-solid fa-file-pen"></i></div>
        <div class="menu-text">Registrar</div>
      </a>
      <a href="consulta.html" class="menu-item">
        <div class="menu-icon-container"><i class="fa-solid fa-user-graduate"></i></div>
        <div class="menu-text">Consulta de Estudiantes</div>
      </a>
      <a href="control.html" class="menu-item">
        <div class="menu-icon-container"><i class="fa-solid fa-gear"></i></div>
        <div class="menu-text">Control Plataforma</div>
      </a>
      <a href="monitoreo.html" class="menu-item">
        <div class="menu-icon-container"><i class="fa-solid fa-clipboard-list"></i></div>
        <div class="menu-text">Monitoreo</div>
      </a>
      <a href="estadisticas.html" class="menu-item active">
        <div class="menu-icon-container"><i class="fa-solid fa-chart-line"></i></div>
        <div class="menu-text">Estadísticas</div>
      </a>
    </nav>
  </aside>

  <main class="main-content">
    <section class="topbar">
      <input type="text" placeholder="Buscar" class="search-bar" />
      <div class="user-section">
        <span>ESP</span>
        <i class="fa-regular fa-envelope notif"></i>
        <i class="fa-regular fa-bell notif"></i>
        <div class="user">
          <img src="https://cdn-icons-png.flaticon.com/512/219/219983.png" alt="User">
          <span>Silvia Herrera</span>
        </div>
      </div>
    </section>
    <header class="header">
      <div class="header-left">
        <h1> Estadísticas - Plataforma Infantil</h1>
      </div>
      <div class="header-right">
        <button id="exportPdf" class="btn primary">Exportar PDF con gráficos</button>
        <button id="regenerar" class="btn">Regenerar datos</button>
      </div>
    </header>

    <section class="kpis">
      <div class="kpi">
        <h3 id="k_totalEstudiantes">0</h3>
        <p>Total de estudiantes</p>
      </div>
      <div class="kpi">
        <h3 id="k_registrados">0</h3>
        <p>Registrados (este mes)</p>
      </div>
      <div class="kpi">
        <h3 id="k_promedioProgreso">0%</h3>
        <p>Progreso promedio</p>
      </div>
      <div class="kpi">
        <h3 id="k_riesgo">0</h3>
        <p>Estudiantes en riesgo (progreso &lt; 30%)</p>
      </div>
    </section>

    <section class="charts-grid">
      <div class="card">
        <h4>Distribución por condición</h4>
        <canvas id="chartCondiciones"></canvas>
      </div>
      <div class="card">
        <h4>Progreso promedio por unidad</h4>
        <canvas id="chartUnidades"></canvas>
      </div>
      <div class="card">
        <h4>Distribución de progreso (bins)</h4>
        <canvas id="chartDistribucion"></canvas>
      </div>
    </section>

    <section class="card tabla-card">
      <h4>Lista de estudiantes (muestra)</h4>
      <div class="tabla-wrapper">
        <table id="tablaEstudiantes" class="table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Unidad actual</th>
              <th>Progreso</th>
              <th>Condición</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <script src="estadisticas.js"></script>
</body>
</html>
